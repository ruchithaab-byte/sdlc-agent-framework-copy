// Record for immutable DTO
public record ApiResponse<T>(T data, int statusCode, String message) {
    // Compact constructor for validation
    public ApiResponse {
        if (statusCode < 100 || statusCode >= 600) {
            throw new IllegalArgumentException("Invalid status code");
        }
    }
}

